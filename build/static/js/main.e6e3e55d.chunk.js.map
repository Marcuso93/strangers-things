{"version":3,"sources":["components/Profile.js","utils/index.js","components/Home.js","components/FeaturedPost.js","components/Posts.js","components/App.js","index.js"],"names":["Profile","userData","className","messages","map","message","index","fromUser","_id","username","content","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","console","registerUser","password","user","registered","loginUser","login","addMessage","post_Id","submitPost","title","description","price","location","willDeliver","post","deletePost","getUser","getPost","Home","setUser","setToken","setUserData","useState","setUsername","setPassword","isRegistered","setIsRegistered","handleSubmit","event","preventDefault","onClick","onSubmit","onChange","e","target","value","name","type","placeholder","log","FeaturedPost","featuredPost","setFeaturedPost","newMessage","setNewMessage","history","useHistory","handleDeletePost","stopPropagation","window","confirm","push","isAuthor","Posts","posts","setPosts","search","setSearch","setDescription","setLocation","setTitle","setPrice","setWillDeliver","useEffect","fetched","handleSubmitPost","newPost","filter","author","toLowerCase","includes","searchPost","alert","handlePostClick","App","setMessage","exact","to","activeClassName","path","ReactDOM","render","document","getElementById"],"mappings":"8MAkCeA,EAhCC,SAAC,GAAkB,IAAD,IAAfC,EAAe,EAAfA,SACf,OAAO,qCACH,oBAAIC,UAAU,eAAd,2BADG,UAEFD,EAASE,gBAFP,aAEF,EAAmBC,KAAI,SAACC,EAASC,GAC9B,GAAID,EAAQE,SAASC,MAAQP,EAASO,IAClC,OAEI,sBAAKN,UAAU,WAAf,UACI,gCAAK,wCAAL,IAAqBG,EAAQE,SAASE,YACtC,gCAAK,yCAAL,IAAsBJ,EAAQK,aAFHJ,MAS3C,oBAAIJ,UAAU,eAAd,+BAfG,UAgBFD,EAASE,gBAhBP,aAgBF,EAAmBC,KAAI,SAACC,GACrB,GAAIA,EAAQE,SAASC,MAAQP,EAASO,IAClC,OAEI,sBAAKN,UAAU,WAAf,UACI,gCAAK,wCAAL,IAAqBG,EAAQE,SAASE,YACtC,gCAAK,yCAAL,IAAsBJ,EAAQK,aAFHL,EAAQG,Y,cCrB9CG,EAAO,iDAAG,WAAOC,EAAKC,EAAQC,EAAOC,GAA3B,qGAEbC,EAAU,CACdH,OAAQA,EAASA,EAAOI,cAAgB,MACxCC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,IAEjBD,IAAOE,EAAQE,QAAR,+BAA6CJ,IATvC,SAWIO,MAbN,gEAauBT,EAAKI,GAX1B,cAWbM,EAXa,gBAYAA,EAASC,OAZT,YAYbC,EAZa,QAaRC,MAbQ,uBAcVD,EAAKC,MAdK,iCAgBVD,GAhBU,kCAmBfE,QAAQD,MAAR,MAnBe,0DAAH,4DAuBPE,EAAY,iDAAG,WAAOlB,EAAUmB,GAAjB,iGACDjB,EAAQ,kBAAmB,OAAQ,KAAM,CAChEkB,KAAM,CAAEpB,WAAUmB,cAFM,cACpBE,EADoB,yBAKnB,CACLD,KAAMC,EAAWN,KAAKnB,QACtBS,MAAOgB,EAAWN,KAAKV,QAPC,2CAAH,wDAWZiB,EAAS,iDAAG,WAAOtB,EAAUmB,GAAjB,iGACHjB,EAAQ,eAAgB,OAAQ,KAAM,CACxDkB,KAAM,CAAEpB,WAAUmB,cAFG,cACjBI,EADiB,yBAKhB,CACLH,KAAMG,EAAMR,KAAKnB,QACjBS,MAAOkB,EAAMR,KAAKV,QAPG,2CAAH,wDAWTmB,EAAU,iDAAG,WAAOnB,EAAOJ,EAASwB,GAAvB,iGACLvB,EAAQ,UAAD,OAAWuB,EAAX,aAA+B,OAAQpB,EAAO,CACtET,QAAS,CAAEK,aAFW,cAClBc,EADkB,yBAKjBA,GALiB,2CAAH,0DAQVW,EAAU,iDAAG,WAAOrB,EAAOsB,EAAOC,EAAaC,EAAOC,EAAUC,GAAnD,iGACL7B,EAAQ,UAEzB,OACAG,EACA,CAAE2B,KAAM,CAAEL,QAAOC,cAAaC,QAAOC,WAAUC,iBALzB,cAClBhB,EADkB,yBAOjBA,EAAKA,KAAKiB,MAPO,2CAAH,gEAUVC,EAAU,iDAAG,WAAO5B,EAAOoB,GAAd,iGACLvB,EAAQ,UAAD,OACduB,GACV,SACApB,GAJsB,cAClBU,EADkB,yBAMjBA,GANiB,2CAAH,wDASVmB,EAAO,iDAAG,WAAO7B,GAAP,iGACFH,EAAQ,YAAa,MAAOG,GAD1B,cACfU,EADe,yBAEdA,GAFc,2CAAH,sDAKPoB,EAAO,iDAAG,WAAO9B,GAAP,iGACEH,EAAQ,SAAU,MAAOG,GAD3B,cACfQ,EADe,yBAEdA,GAFc,2CAAH,sDCfLuB,EA5DF,SAAC,GAAqD,IAAnDhB,EAAkD,EAAlDA,KAAMiB,EAA4C,EAA5CA,QAAShC,EAAmC,EAAnCA,MAAOiC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAC5C,EAAgCC,mBAAS,IAAzC,mBAAOxC,EAAP,KAAiByC,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOrB,EAAP,KAAiBuB,EAAjB,KACA,EAAwCF,oBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KAEMC,EAAY,iDAAG,WAAOC,GAAP,gGACjBA,EAAMC,kBAEFJ,EAHa,iCAIiBzB,EAAalB,EAAUmB,GAJxC,gBAILC,EAJK,EAILA,KAAMf,EAJD,EAICA,MACdgC,EAAQjB,GACRkB,EAASjC,GANI,yCASiBiB,EAAUtB,EAAUmB,GATrC,wBASLC,EATK,EASLA,KAAMf,EATD,EASCA,MACdgC,EAAQjB,GACRkB,EAASjC,GAXI,UAYM6B,EAAQ7B,GAZd,QAYPU,EAZO,OAabwB,EAAYxB,EAAKA,MAbJ,4CAAH,sDA0BlB,OAAO,mCACDK,GAAQf,EACN,qCACI,qBAAIZ,UAAU,UAAd,UAAyB2B,EAAzB,iBAA6CpB,EAA7C,OACA,oBAAIP,UAAU,UAAd,6EACA,wBAAQA,UAAU,SAASuD,QAfxB,WACXX,GAAQ,GACRC,EAAS,KAaD,wBAEJ,mCACI,sBAAK7C,UAAU,OAAf,UACI,oBAAIA,UAAU,aAAd,SAA4BkD,EAAe,eAAiB,WAC5D,uBAAMM,SAAUJ,EAAhB,UACI,uBAAOpD,UAAU,QACbyD,SAAU,SAACC,GAAD,OAAOV,EAAYU,EAAEC,OAAOC,QACtCC,KAAK,WAAWC,KAAK,OACrBC,YAAY,WAAWH,MAAOrD,IAClC,uBAAOP,UAAU,QACbyD,SAAU,SAACC,GAAD,OAAOT,EAAYS,EAAEC,OAAOC,QACtCC,KAAK,WAAWC,KAAK,WACrBC,YAAY,WAAWH,MAAOlC,IAElC,wBAAQ1B,UAAU,YAAY8D,KAAK,SAAnC,uBAEJ,wBAAQ9D,UAAU,UAAUuD,QA3BjB,WACvB/B,QAAQwC,IAAI,SAAUd,GACtBC,GAAiBD,IAyBL,qCCCLe,EAtDM,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,gBAAiBvD,EAAY,EAAZA,MACnD,EAAoCmC,mBAAS,IAA7C,mBAAOqB,EAAP,KAAmBC,EAAnB,KACMC,EAAUC,cAYVC,EAAgB,iDAAE,WAAOd,EAAG1B,GAAV,2EACpB0B,EAAEe,kBACEC,OAAOC,QAAQ,iBACnBnC,EAAW5B,EAAOoB,GAClBsC,EAAQM,KAAR,WAJoB,2CAAF,wDAOtB,OAAO,0BAAS5E,UAAU,gBAAnB,UACH,6BAAKkE,EAAahC,QAClB,sBAAKlC,UAAU,WAAf,0BAAwCkE,EAAa/B,eACrD,sBAAKnC,UAAU,WAAf,oBAAkCkE,EAAa9B,SAC/C,sBAAKpC,UAAU,WAAf,qBAAmCkE,EAAa3D,YAChD,sBAAKP,UAAU,WAAf,uBAAqCkE,EAAa7B,YAClD,sBAAKrC,UAAU,WAAf,2BAAyCkE,EAAa5B,YAAc,MAAQ,QAC5E,oCACI,0CACA,6BACK4B,EAAajE,SAASC,KAAI,SAAAC,GACvB,OAAO,6BACH,qCAAQA,EAAQK,YADJL,EAAQG,aAQpC,uBAAMkD,SA/BkB,SAACE,GACzBA,EAAEJ,iBACFvB,EAAWnB,EAAOwD,EAAYF,EAAa5D,MA6B3C,UACI,uBACImD,SAAU,SAACC,GAAD,OAAOW,EAAcX,EAAEC,OAAOC,QACxCE,KAAK,OAAOD,KAAK,UACjBE,YAAY,UAAUH,MAAOQ,IACjC,wBAAQpE,UAAU,SAAS8D,KAAK,SAAhC,+BAGHI,EAAaW,UACV,wBAAQtB,QAAS,SAACG,GAAQc,EAAiBd,EAAGQ,EAAa5D,MAA3D,yBACJ,wBAAQN,UAAU,QAAQuD,QA9CV,WAChBY,EAAgB,IAChBG,EAAQM,KAAK,WA4Cb,uB,QCuDOE,EAzGD,SAAC,GAAuD,IAArDnD,EAAoD,EAApDA,KAAMf,EAA8C,EAA9CA,MAAOmE,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,SAAUb,EAAsB,EAAtBA,gBAE3C,EAA4BpB,mBAAS,IAArC,mBAAOkC,EAAP,KAAeC,EAAf,KACA,EAAsCnC,mBAAS,IAA/C,mBAAOZ,EAAP,KAAoBgD,EAApB,KACA,EAAgCpC,mBAAS,IAAzC,mBAAOV,EAAP,KAAiB+C,EAAjB,KACA,EAA0BrC,mBAAS,IAAnC,mBAAOb,EAAP,KAAcmD,EAAd,KACA,EAA0BtC,mBAAS,IAAnC,mBAAOX,EAAP,KAAckD,EAAd,KACA,EAAsCvC,mBAAS,SAA/C,mBAAOT,EAAP,KAAoBiD,EAApB,KACMjB,EAAUC,cAEhBiB,qBAAU,WACN,gCAAC,8GACyB9C,EAAQ9B,GADjC,OACS6E,EADT,OAEGT,EAASS,EAAQnE,KAAKyD,OAFzB,0CAAD,KAID,IAEH,IAeMW,EAAgB,iDAAG,WAAOhC,GAAP,wFACrBA,EAAEJ,iBADmB,SAECrB,EAAWrB,EAAOsB,EAAOC,EAAaC,EAAOC,EAAUC,GAFxD,OAEfqD,EAFe,OAGrBX,EAAS,GAAD,mBAAKD,GAAL,CAAYY,KAHC,2CAAH,sDAMhBnB,EAAgB,iDAAG,WAAOd,EAAG1B,GAAV,2EACrB0B,EAAEe,kBACEC,OAAOC,QAAQ,iBACnBnC,EAAW5B,EAAOoB,GAClBsC,EAAQM,KAAR,WAJqB,2CAAH,wDAOtB,OAAO,qCAEH,oBAAI5E,UAAU,aAAd,mBAEC,uBAAOA,UAAU,SAASyD,SAAU,SAACJ,GAClC6B,EAAU7B,EAAMM,OAAOC,QAEvBE,KAAK,OAAOD,KAAK,cAAcE,YAAY,WAE9CpC,GAAQf,GACL,uBAAM4C,SAAUkC,EAAhB,UACI,uBAAO1F,UAAU,YAAYyD,SAAU,SAACC,GAAD,OAAO0B,EAAY1B,EAAEC,OAAOC,QAC/DE,KAAK,OAAOD,KAAK,WACjBE,YAAY,WAAWH,MAAOvB,IAElC,uBAAOrC,UAAU,YAAYyD,SAAU,SAACC,GAAD,OAAOyB,EAAezB,EAAEC,OAAOC,QAClEE,KAAK,OAAOD,KAAK,cACjBE,YAAY,cAAcH,MAAOzB,IAErC,uBAAOnC,UAAU,YAAYyD,SAAU,SAACC,GAAD,OAAO2B,EAAS3B,EAAEC,OAAOC,QAC5DE,KAAK,OAAOD,KAAK,QACjBE,YAAY,QAAQH,MAAO1B,IAE/B,uBAAOlC,UAAU,YAAYyD,SAAU,SAACC,GAAD,OAAO4B,EAAS5B,EAAEC,OAAOC,QAC5DE,KAAK,OAAOD,KAAK,QACjBE,YAAY,QAAQH,MAAOxB,IAE/B,yBAAQpC,UAAU,YAAYyD,SAAU,SAACC,GAAD,OAAO6B,EAAe7B,EAAEC,OAAOC,QACnEE,KAAK,OAAOD,KAAK,cACjBE,YAAY,cAAcH,MAAOtB,EAFrC,UAGI,wBAAQsB,MAAM,OAAd,iBACA,wBAAQA,MAAM,QAAd,mBAGJ,wBAAQ5D,UAAU,aAAa8D,KAAK,SAApC,4BAGR,8BAEQiB,EAAMa,QAAO,SAAArD,GACT,OApEG,SAACA,GAChB,MAAO,UAAGA,EAAKL,MAAR,YAAiBK,EAAKF,SAAtB,YAAkCE,EAAKJ,YAAvC,YAAsDI,EAAKsD,OAAOtF,UACpEuF,cACAC,SAASd,EAAOa,eAiEFE,CAAWzD,MAEjBrC,KAAI,SAACqC,GACF,OAAO,sBAAKvC,UAAU,QAAQuD,QAAS,SAACG,IAjEpC,SAACA,EAAGqB,GACpBpD,GAAQf,GACRuD,EAAgBY,GAChBT,EAAQM,KAAR,iBAAuBG,EAAMzE,OAE7B2F,MAAM,iBA4DsDC,CAAgBxC,EAAGnB,IAA5D,UACH,6BAAKA,EAAKL,QACV,sBAAKlC,UAAU,WAAf,0BAAwCuC,EAAKJ,eAC7C,sBAAKnC,UAAU,WAAf,oBAAkCuC,EAAKH,SACvC,sBAAKpC,UAAU,WAAf,qBAAmCuC,EAAKsD,OAAOtF,YAC/C,sBAAKP,UAAU,WAAf,uBAAqCuC,EAAKF,YAC1C,sBAAKrC,UAAU,WAAf,2BAAyCuC,EAAKD,YAAc,MAAQ,QAEnEC,EAAKsC,UAAYjE,GACd,wBAAQZ,UAAU,SAASuD,QAAS,SAACG,GAAD,OAAOc,EAAiBd,EAAGnB,EAAKjC,MAApE,2BATyEiC,EAAKjC,cC9B/F6F,EAvDH,WACR,MAA0BpD,mBAAS,IAAnC,mBAAOgC,EAAP,KAAcC,EAAd,KACA,EAA0BjC,mBAAS,IAAnC,mBAAOnC,EAAP,KAAciC,EAAd,KACA,EAAwCE,mBAAS,IAAjD,mBAAOmB,EAAP,KAAqBC,EAArB,KACA,EAAwBpB,oBAAS,GAAjC,mBAAOpB,EAAP,KAAaiB,EAAb,KACA,EAAgCG,oBAAS,GAAzC,mBAAOhD,EAAP,KAAiB+C,EAAjB,KACA,EAA8BC,mBAAS,IAAvC,mBAAO5C,EAAP,KAAgBiG,EAAhB,KAEA,OAAO,iCACP,gCACI,oBAAIpG,UAAU,QAAd,+BACA,cAAC,IAAD,CAASqG,OAAK,EAACC,GAAG,SAAStG,UAAU,UAAUuG,gBAAgB,SAA/D,SACA,wCAGA,cAAC,IAAD,CAAUF,OAAK,EAACC,GAAG,WAAWtG,UAAU,UAAUuG,gBAAgB,SAAlE,SACA,2CAGA,cAAC,IAAD,CAAUF,OAAK,EAACC,GAAG,SAAStG,UAAU,UAAUuG,gBAAgB,SAAhE,SACA,4CAIA,cAAC,IAAD,CAAOF,OAAK,EAACG,KAAK,SAAlB,SACI,cAAC,EAAD,CAAMzB,MAASA,EAAOpD,KAAOA,EAAMiB,QAASA,EAAShC,MAASA,EAAOiC,SAAYA,EAAU1C,QAAWA,EAASJ,SAAYA,EAAU+C,YAAeA,MAGxJ,cAAC,IAAD,CAAO0D,KAAK,WAAZ,SACI,cAAC,EAAD,CACA7E,KAAMA,EAAMiB,QAASA,EACrBhC,MAASA,EAAOiC,SAAYA,EAC5B9C,SAAYA,EAAU+C,YAAeA,MAIzC,eAAC,IAAD,CAAO0D,KAAK,SAAZ,UACI,cAAC,IAAD,CAAOA,KAAM,iBAAb,SACC7E,GAAQf,GACT,cAAC,EAAD,CACAe,KAAQA,EACRf,MAASA,EACTsD,aAAgBA,EAChBC,gBAAmBA,EACnBhE,QAAWA,EACXiG,WAAcA,MAGd,cAAC,EAAD,CAAOzE,KAAQA,EAAMf,MAAOA,EAAOsD,aAAgBA,EAClDC,gBAAkBA,EACnBY,MAASA,EAAOC,SAAYA,W,MClDxCyB,IAASC,OACT,cAAC,IAAD,UACA,cAAC,EAAD,MAECC,SAASC,eAAe,U","file":"static/js/main.e6e3e55d.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Profile = ({ userData }) => {\r\n    return <>\r\n        <h2 className=\"profileTitle\">Sent Messages</h2>\r\n        {userData.messages?.map((message, index) => {\r\n            if (message.fromUser._id === userData._id) {\r\n                return (\r\n\r\n                    <div className=\"messages\" key={index}>\r\n                        <div><b>Sender:</b> {message.fromUser.username}</div>\r\n                        <div><b>Message:</b> {message.content}</div>\r\n                    </div>\r\n                )\r\n            }\r\n        })\r\n        }\r\n\r\n        <h2 className=\"profileTitle\">Recieved Messages</h2>\r\n        {userData.messages?.map((message) => {\r\n            if (message.fromUser._id !== userData._id) {\r\n                return (\r\n\r\n                    <div className=\"messages\" key={message._id}>\r\n                        <div><b>Sender:</b> {message.fromUser.username}</div>\r\n                        <div><b>Message:</b> {message.content}</div>\r\n                    </div>\r\n                )\r\n            }\r\n        })\r\n        }\r\n    </>\r\n}\r\n\r\nexport default Profile;","export const BASE_URL = `https://strangers-things.herokuapp.com/api/2204-FTB-MT-WEB-PT`\r\n\r\nexport const callApi = async (url, method, token, body) => {\r\n  try {\r\n    const options = {\r\n      method: method ? method.toUpperCase() : \"GET\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(body)\r\n      }\r\n      if (token) options.headers['Authorization'] = `Bearer ${token}`;\r\n\r\n    const response = await fetch(BASE_URL + url, options)\r\n    const data = await response.json();\r\n      if (data.error) {\r\n      throw (data.error)\r\n      }\r\n      return data\r\n    }\r\n      catch (error) {\r\n        console.error(error)\r\n    }\r\n  }\r\n\r\nexport const registerUser = async (username, password) => {\r\n  const registered = await callApi(\"/users/register\", \"POST\", null, {\r\n    user: { username, password }\r\n  })\r\n\r\n  return {\r\n    user: registered.data.message,\r\n    token: registered.data.token\r\n    }\r\n  }\r\n\r\nexport const loginUser = async (username, password) => {\r\n  const login = await callApi(\"/users/login\", \"POST\", null, {\r\n    user: { username, password }\r\n  })\r\n\r\n  return {\r\n    user: login.data.message,\r\n    token: login.data.token\r\n    }\r\n  }\r\n\r\nexport const addMessage = async (token, content, post_Id) => {\r\n  const data = await callApi(`/posts/${post_Id}/messages`, \"POST\", token, {\r\n    message: { content }\r\n  })\r\n\r\n  return data\r\n  }\r\n\r\nexport const submitPost = async (token, title, description, price, location, willDeliver) => {\r\n  const data = await callApi(\r\n    `/posts/`,\r\n    \"POST\",\r\n    token,\r\n    { post: { title, description, price, location, willDeliver } })\r\n\r\n  return data.data.post\r\n  }\r\n\r\nexport const deletePost = async (token, post_Id) => {\r\n  const data = await callApi(\r\n    `/posts/${post_Id}`,\r\n    \"DELETE\",\r\n    token)\r\n\r\n  return data\r\n  }\r\n\r\nexport const getUser = async (token) => {\r\n  const data = await callApi(`/users/me`, \"GET\", token)\r\n  return data\r\n  }\r\n\r\nexport const getPost = async (token) => {\r\n  const response = await callApi('/posts', 'GET', token)\r\n  return response\r\n  }\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { registerUser, loginUser, getUser } from \"../utils\";\r\n\r\nconst Home = ({ user, setUser, token, setToken, setUserData }) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isRegistered, setIsRegistered] = useState(false);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (isRegistered) {\r\n            const { user, token } = await registerUser(username, password)\r\n            setUser(user)\r\n            setToken(token)\r\n        }\r\n        else {\r\n            const { user, token } = await loginUser(username, password)\r\n            setUser(user)\r\n            setToken(token)\r\n            const data = await getUser(token);\r\n            setUserData(data.data)\r\n        }\r\n    }\r\n    const logout = () => {\r\n        setUser(false);\r\n        setToken(\"\");\r\n    }\r\n\r\n    const toggleRegistration = () => {\r\n        console.log('toggle', isRegistered)\r\n        setIsRegistered(!isRegistered)\r\n    }\r\n\r\n    return <>\r\n        {(user && token) ?\r\n            <>\r\n                <h1 className=\"welcome\">{user} Welcome back {username}!</h1>\r\n                <h2 className=\"welcome\" >Check your Profile for Messages or Posts for what's new today! </h2>\r\n                <button className=\"logOut\" onClick={logout}>Log Out</button>\r\n            </> :\r\n            <>\r\n                <div className=\"home\">\r\n                    <h2 className=\"loginTitle\">{isRegistered ? \"Registration\" : \"Log in\"}</h2>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <input className=\"login\"\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            name=\"username\" type=\"text\"\r\n                            placeholder=\"Username\" value={username}></input>\r\n                        <input className=\"login\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            name=\"password\" type=\"password\"\r\n                            placeholder=\"Password\" value={password}>\r\n                        </input>\r\n                        <button className=\"submitBtn\" type='submit'>Submit</button>\r\n                    </form>\r\n                    <button className=\"homeBtn\" onClick={toggleRegistration}> Register/Login</button>\r\n                </div>\r\n            </>\r\n        }\r\n            </>\r\n        }\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { deletePost, addMessage } from \"../utils\";\r\n\r\nconst FeaturedPost = ({ featuredPost, setFeaturedPost, token }) => {\r\n    const [newMessage, setNewMessage] = useState(\"\")\r\n    const history = useHistory()\r\n\r\n    const handleClose = () => {\r\n        setFeaturedPost(\"\")\r\n        history.push(\"/posts\")\r\n    }\r\n\r\n    const handleSubmitMessage = (e) => {\r\n        e.preventDefault();\r\n        addMessage(token, newMessage, featuredPost._id)\r\n    }\r\n\r\n    const handleDeletePost= async (e, post_Id) => {\r\n        e.stopPropagation()\r\n        if (window.confirm(\"Are you sure\"))\r\n        deletePost(token, post_Id)\r\n        history.push(`/posts/`)\r\n    }\r\n\r\n    return <article className=\"featured-post\">\r\n        <h2>{featuredPost.title}</h2>\r\n        <div className=\"postInfo\">Description: {featuredPost.description}</div>\r\n        <div className=\"postInfo\">Price: {featuredPost.price}</div>\r\n        <div className=\"postInfo\">Seller: {featuredPost.username}</div>\r\n        <div className=\"postInfo\">Location: {featuredPost.location}</div>\r\n        <div className=\"postInfo\">Will Deliver: {featuredPost.willDeliver ? 'yes' : 'no'}</div>\r\n        <section>\r\n            <h3>Messages</h3>\r\n            <ul>\r\n                {featuredPost.messages.map(message => {\r\n                    return <li key={message._id}>\r\n                        <span> {message.content}</span>\r\n                    </li>\r\n                })\r\n                }\r\n            </ul>\r\n        </section>\r\n\r\n        <form onSubmit={handleSubmitMessage}>\r\n            <input\r\n                onChange={(e) => setNewMessage(e.target.value)}\r\n                type=\"text\" name=\"message\"\r\n                placeholder=\"message\" value={newMessage} />\r\n            <button className=\"submit\" type=\"submit\">Submit Message</button>\r\n        </form>\r\n\r\n        {featuredPost.isAuthor &&\r\n            <button onClick={(e) => { handleDeletePost(e, featuredPost._id) }}>Delete Post</button>}\r\n        <button className=\"close\" onClick={handleClose}>Close</button>\r\n    </article>\r\n}\r\n\r\nexport default FeaturedPost;\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { submitPost, deletePost, getPost } from \"../utils/index\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Posts = ({ user, token, posts, setPosts, setFeaturedPost }) => {\r\n\r\n    const [search, setSearch] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\")\r\n    const [location, setLocation] = useState(\"\")\r\n    const [title, setTitle] = useState(\"\")\r\n    const [price, setPrice] = useState(\"\")\r\n    const [willDeliver, setWillDeliver] = useState(\"false\");\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const fetched = await getPost(token)\r\n            setPosts(fetched.data.posts)\r\n        })()\r\n    }, [])\r\n\r\n    const searchPost = (post) => {\r\n        return `${post.title} ${post.location} ${post.description} ${post.author.username}`\r\n            .toLowerCase()\r\n            .includes(search.toLowerCase())\r\n    }\r\n\r\n    const handlePostClick = (e, posts) => {\r\n        if (user && token) {\r\n            setFeaturedPost(posts)\r\n            history.push(`/posts/${posts._id}`)\r\n        } else {\r\n            alert(\"not logged in\")\r\n        }\r\n    }\r\n\r\n    const handleSubmitPost = async (e) => {\r\n        e.preventDefault();\r\n        const newPost = await submitPost(token, title, description, price, location, willDeliver)\r\n        setPosts([...posts, newPost])\r\n    }\r\n\r\n    const handleDeletePost = async (e, post_Id) => {\r\n        e.stopPropagation()\r\n        if (window.confirm(\"Are you sure\"))\r\n        deletePost(token, post_Id)\r\n        history.push(`/posts/`)\r\n    }\r\n\r\n    return <>\r\n\r\n        <h2 className=\"titlePosts\">Posts</h2>\r\n\r\n        {<input className=\"search\" onChange={(event) => {\r\n            setSearch(event.target.value);\r\n        }}\r\n            type=\"text\" name=\"Search Post\" placeholder=\"Search\" />}\r\n\r\n        {user && token &&\r\n            <form onSubmit={handleSubmitPost}>\r\n                <input className=\"postValue\" onChange={(e) => setLocation(e.target.value)}\r\n                    type=\"text\" name=\"location\"\r\n                    placeholder=\"location\" value={location} />\r\n\r\n                <input className=\"postValue\" onChange={(e) => setDescription(e.target.value)}\r\n                    type=\"text\" name=\"description\"\r\n                    placeholder=\"description\" value={description} />\r\n\r\n                <input className=\"postValue\" onChange={(e) => setTitle(e.target.value)}\r\n                    type=\"text\" name=\"title\"\r\n                    placeholder=\"title\" value={title} />\r\n\r\n                <input className=\"postValue\" onChange={(e) => setPrice(e.target.value)}\r\n                    type=\"text\" name=\"price\"\r\n                    placeholder=\"price\" value={price} />\r\n\r\n                <select className=\"postValue\" onChange={(e) => setWillDeliver(e.target.value)}\r\n                    type=\"text\" name=\"WillDeliver\"\r\n                    placeholder=\"willDeliver\" value={willDeliver} >\r\n                    <option value=\"true\">Yes</option>\r\n                    <option value=\"false\">No</option>\r\n                </select>\r\n\r\n                <button className=\"submitPost\" type=\"submit\">Submit Post</button>\r\n            </form>}\r\n\r\n        <div>\r\n            {\r\n                posts.filter(post => {\r\n                    return searchPost(post)\r\n                })\r\n                    .map((post) => {\r\n                        return <div className=\"posts\" onClick={(e) => { handlePostClick(e, post) }} key={post._id}>\r\n                            <h2>{post.title}</h2>\r\n                            <div className=\"postInfo\">Description: {post.description}</div>\r\n                            <div className=\"postInfo\">Price: {post.price}</div>\r\n                            <div className=\"postInfo\">Seller: {post.author.username}</div>\r\n                            <div className=\"postInfo\">Location: {post.location}</div>\r\n                            <div className=\"postInfo\">Will Deliver: {post.willDeliver ? 'yes' : 'no'}</div>\r\n\r\n                            {post.isAuthor && token &&\r\n                                <button className=\"delete\" onClick={(e) => handleDeletePost(e, post._id)}>Delete Post</button>}\r\n                        </div>\r\n                    })\r\n            } \r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default Posts","import React, { useState } from \"react\";\r\nimport { NavLink, Route } from \"react-router-dom\";\r\nimport  Profile from \"./Profile\";\r\nimport Home from \"./Home\";\r\nimport FeaturedPost from \"./FeaturedPost\";\r\nimport Posts from \"./Posts\";\r\n\r\nconst App = () => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [token, setToken] = useState(\"\");\r\n    const [featuredPost, setFeaturedPost] = useState(\"\");\r\n    const [user, setUser] = useState(false);\r\n    const [userData, setUserData] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    return <main>\r\n    <nav>\r\n        <h1 className=\"title\">Stranger's Things</h1>\r\n        <NavLink exact to=\"/login\" className=\"navLink\" activeClassName=\"active\">\r\n        <h2>Home</h2>\r\n        </NavLink>\r\n\r\n        <NavLink  exact to=\"/profile\" className=\"navLink\" activeClassName=\"active\">\r\n        <h2>Profile</h2>\r\n        </NavLink>\r\n\r\n        <NavLink  exact to=\"/posts\" className=\"navLink\" activeClassName=\"active\">\r\n        <h2>Posts</h2>\r\n        </NavLink>\r\n    </nav>\r\n\r\n        <Route exact path=\"/login\">\r\n            <Home posts = {posts} user= {user} setUser={setUser} token = {token} setToken = {setToken} message = {message} userData = {userData} setUserData = {setUserData} />\r\n        </Route>\r\n\r\n        <Route path=\"/profile\">\r\n            <Profile \r\n            user={user} setUser={setUser}\r\n            token = {token} setToken = {setToken}\r\n            userData = {userData} setUserData = {setUserData}\r\n            />\r\n        </Route>\r\n\r\n        <Route path=\"/posts\">\r\n            <Route path= \"/posts/:postId\">\r\n            {user && token &&\r\n            <FeaturedPost\r\n            user = {user} \r\n            token = {token}\r\n            featuredPost = {featuredPost} \r\n            setFeaturedPost = {setFeaturedPost}\r\n            message = {message}\r\n            setMessage = {setMessage}\r\n            />}\r\n        </Route>\r\n            <Posts user = {user} token={token} featuredPost = {featuredPost}\r\n             setFeaturedPost= {setFeaturedPost}\r\n            posts = {posts} setPosts = {setPosts}/>\r\n        </Route>\r\n    </main>\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { App } from \"./components\";\r\n\r\nimport './styles.css'\r\n\r\nReactDOM.render(\r\n<BrowserRouter>\r\n<App />\r\n</BrowserRouter>,\r\n document.getElementById('app'))"],"sourceRoot":""}